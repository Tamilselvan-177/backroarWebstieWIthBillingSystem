{% extends 'base.twig' %}

{% block title %}Admin Dashboard â€” BlackRoar{% endblock %}

{% block styles %}
<style>
    @keyframes adminFadeUp {
        from { opacity:0; transform:translateY(20px); }
        to   { opacity:1; transform:translateY(0); }
    }
    @keyframes adminGlowDot {
        0%,100% { transform:scale(1); opacity:.8; }
        50%     { transform:scale(1.3); opacity:.4; }
    }

    .admin-shell {
        background: radial-gradient(circle at top, #f9fafb 0%, #e5e7eb 40%, #f3f4f6 100%);
        min-height: calc(100vh - 64px);
    }
    .admin-header {
        animation: adminFadeUp .45s ease-out;
    }
    .admin-chip {
        display:inline-flex;
        align-items:center;
        gap:.35rem;
        padding:.2rem .7rem;
        border-radius:999px;
        background:#020617;
        color:#f9fafb;
        font-size:.65rem;
        letter-spacing:.18em;
        text-transform:uppercase;
    }
    .admin-chip span.dot {
        width:.45rem;
        height:.45rem;
        border-radius:999px;
        background:#22c55e;
        animation:adminGlowDot 2.4s ease-in-out infinite;
    }

    .admin-card {
        background:#ffffff;
        border-radius:1.15rem;
        box-shadow:
          0 18px 40px rgba(15,23,42,0.12),
          0 0 0 1px rgba(148,163,184,0.35);
        border:1px solid rgba(148,163,184,0.5);
        transition:all .25s ease;
        position:relative;
        overflow:hidden;
        animation:adminFadeUp .45s ease-out;
    }
    .admin-card::before{
        content:'';
        position:absolute;
        inset:0;
        background:radial-gradient(circle at top left,rgba(15,23,42,0.06),transparent 55%);
        opacity:0;
        transition:opacity .25s ease;
        pointer-events:none;
    }
    .admin-card:hover{
        transform:translateY(-6px);
        box-shadow:
          0 26px 60px rgba(15,23,42,0.30),
          0 0 0 1px rgba(15,23,42,0.4);
    }
    .admin-card:hover::before{ opacity:1; }

    .admin-card-title{
        font-size:0.9rem;
        font-weight:700;
        letter-spacing:.08em;
        text-transform:uppercase;
        color:#111827;
    }
    .admin-card-sub{
        font-size:.8rem;
        color:#6b7280;
    }

    .admin-stat-label{
        font-size:.7rem;
        text-transform:uppercase;
        letter-spacing:.16em;
        color:#9ca3af;
    }
</style>
{% endblock %}

{% block content %}
<section class="admin-shell py-10">
    <div class="container mx-auto px-4">
        <!-- Header -->
        <div class="admin-header flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">
            <div>
                <div class="admin-chip mb-3">
                    <span class="dot"></span>
                    <span>Admin Panel</span>
                </div>
                <h1 class="text-2xl md:text-3xl font-black tracking-[0.18em] uppercase text-[var(--brand-heading)]">
                    Dashboard
                </h1>
                <p class="text-sm text-gray-500 mt-2">
                    Manage products, orders, categories and more from one place.
                </p>
            </div>
            <div class="flex flex-wrap gap-3">
                <a href="{{ app_url }}/"
                   class="px-4 py-2 rounded-full border border-[var(--card-border)] text-xs font-semibold text-gray-700 hover:bg-[var(--card-bg-alt)]">
                    View storefront
                </a>
                <a href="{{ app_url }}/admin/products/create"
                   class="px-5 py-2 rounded-full bg-[var(--brand-navbar)] text-white text-xs font-semibold hover:bg-black">
                    + New product
                </a>
            </div>
        </div>

        <!-- Quick stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-5 mb-8">
            <div class="admin-card p-5 flex items-center justify-between">
                <div>
                    <p class="admin-stat-label mb-1">Total Products</p>
                    <p class="text-2xl font-bold text-[var(--brand-text)]">
                        {{ stats.total_products }}
                    </p>
                </div>
                <div class="text-gray-400">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M3 7h18M3 12h18M3 17h18"/>
                    </svg>
                </div>
            </div>
            <div class="admin-card p-5 flex items-center justify-between">
                <div>
                    <p class="admin-stat-label mb-1">Open Orders</p>
                    <p class="text-2xl font-bold text-[var(--brand-text)]">
                        {{ stats.open_orders }}
                    </p>
                </div>
                <div class="text-gray-400">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                    </svg>
                </div>
            </div>
            <div class="admin-card p-5 flex items-center justify-between">
                <div>
                    <p class="admin-stat-label mb-1">Total Reviews</p>
                    <p class="text-2xl font-bold text-[var(--brand-text)]">
                        {{ stats.total_review }}
                    </p>
                </div>
                <div class="text-gray-400">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.384 2.46a1 1 0 00-.364 1.118l1.287 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.175 0l-3.385 2.46c-.784.57-1.838-.196-1.539-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.997 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.336-3.967z"/>
                    </svg>
                </div>
            </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-5 mb-8">
            <div class="admin-card p-5 flex items-center justify-between">
                <div>
                    <p class="admin-stat-label mb-1">POS Bills Today</p>
                    <p class="text-2xl font-bold text-[var(--brand-text)]">
                        {{ stats.pos_orders_today }}
                    </p>
                </div>
                <div class="text-gray-400">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M3 3h18v4H3zM3 9h18v12H3z"/>
                    </svg>
                </div>
            </div>
            <div class="admin-card p-5 flex items-center justify-between">
                <div>
                    <p class="admin-stat-label mb-1">POS Revenue Today</p>
                    <p class="text-2xl font-bold text-[var(--brand-text)]">
                        â‚¹{{ stats.pos_revenue_today|number_format(2, '.', ',') }}
                    </p>
                </div>
                <div class="text-gray-400">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 8c-3.866 0-7 2.686-7 6h14c0-3.314-3.134-6-7-6zM5 14v2h14v-2"/>
                    </svg>
                </div>
            </div>
            <div class="admin-card p-5 flex items-center justify-between">
                <div>
                    <p class="admin-stat-label mb-1">GST Collected Today</p>
                    <p class="text-2xl font-bold text-[var(--brand-text)]">
                        â‚¹{{ stats.gst_today|number_format(2, '.', ',') }}
                    </p>
                </div>
                <div class="text-gray-400">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 6l-2 4h4l-2-4zm0 6v6"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Main cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <a href="{{ app_url }}/admin/pos/login" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">POS Billing</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Sales</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Select shop and start billing with keyboard shortcuts.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Open POS â†’
                </p>
            </a>
            <a href="{{ app_url }}/admin/staff" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Staff</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Users</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Create and manage staff accounts.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Manage staff â†’
                </p>
            </a>
            <a href="{{ app_url }}/admin/counters" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Counters</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Setup</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Manage store counters with PINs and activation.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Manage counters â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/stores" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Stores</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Locations</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Manage store branches and details.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Manage stores â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/stock/transfer" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Stock Transfer</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Inventory</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Move stock between shops with logging and checks.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Transfer stock â†’
                </p>
            </a>
            <!-- Add this card in the main cards grid section of admin/index.twig -->
<!-- Place it prominently at the top or wherever you prefer -->

<a href="{{ app_url }}/admin/analytics" class="admin-card p-6 hover:no-underline">
    <div class="flex items-center justify-between mb-4">
        <h3 class="admin-card-title">ðŸ“Š Analytics & Insights</h3>
        <span class="text-xs px-2 py-1 rounded-full bg-black text-white font-bold">NEW</span>
    </div>
    <p class="admin-card-sub mb-4">
        View detailed analytics, sales trends, top products, and business insights with interactive charts.
    </p>
    <div class="flex items-center justify-between mt-4">
        <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
            View Dashboard â†’
        </p>
        <div class="flex gap-2">
            <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-gray-700" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                </svg>
            </div>
        </div>
    </div>
</a>
            <a href="{{ app_url }}/admin/products" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Products</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Catalog</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Manage catalog, stock, pricing, and featured items.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Go to products â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/orders" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Orders</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Operations</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Track new orders, update status, and handle issues.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    View orders â†’
                </p>
            </a>
            <a href="{{ app_url }}/admin/pos/orders" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">POS Orders</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Sales</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Browse and reprint POS bills with filters.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    POS orders â†’
                </p>
            </a>
            <a href="{{ app_url }}/admin/pos/gst-report" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">GST Report</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Compliance</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Daily/monthly GST summaries with CSV export.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    View GST â†’
                </p>
            </a>
            <a href="{{ app_url }}/admin/returns" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Returns</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Afterâ€‘sales</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Process returns and update store stock.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Create return â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/categories" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Categories</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Structure</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Add and reorganize topâ€‘level and nested categories.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Edit categories â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/subcategories" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Subcategories</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Structure</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Manage mobile case types, gadgets types and other subcategories.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Manage subcategories â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/brands" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Brands</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Catalog</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Maintain brands, logos, and sort order.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Manage brands â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/models" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Phone Models</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Filters</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Map devices to brands for precise product filters.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Configure models â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/coupons" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Coupons</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Marketing</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Create and manage discount codes for promotions.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Manage coupons â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/products/1/images" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Image Manager</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Media</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Upload, sort, and mark primary product images.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Open media â†’
                </p>
            </a>

            <a href="{{ app_url }}/admin/reviews" class="admin-card p-6 hover:no-underline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="admin-card-title">Reviews</h3>
                    <span class="text-xs px-2 py-1 rounded-full bg-black text-white">Trust</span>
                </div>
                <p class="admin-card-sub mb-4">
                    Approve, hide, or remove customer reviews.
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-gray-400">
                    Moderate reviews â†’
                </p>
            </a>
        </div>
    </div>
</section>
{% endblock %}
